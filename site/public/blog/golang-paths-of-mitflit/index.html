<!DOCTYPE html>
<html>
  <head>
  <title>
      
          Golang Paths of Mitflit - mitflit - mine, not yours
      
  </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Dumitru Ungureanu" />
  <link rel="shortcut icon" type="image/x-icon" href="https://mitflit.ro/img/">

  
  
  
  
  
  <link rel="stylesheet" href="https://mitflit.ro/style.min.50b90393169654556a71e4f446b9f85df21d52fda6031024b13935ad30a2eba6.css" integrity="sha256-ULkDkxaWVFVqceT0Rrn4XfIdUv2mAxAksTk1rTCi66Y=">
  
  
  
  <link rel="stylesheet" href="https://mitflit.ro/style-dark.min.0a647fb6c07e04b77b54fa0515d0a683d39ecdb251dba960fe1f966f7ff36fc2.css" media="(prefers-color-scheme: dark)" integrity="sha256-CmR/tsB&#43;BLd7VPoFFdCmg9OezbJR26lg/h&#43;Wb3/zb8I=">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

  
  

  <meta property="og:title" content="Golang Paths of Mitflit" />
<meta property="og:description" content="Where I change the default paths in golang to a centralized location on disk." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mitflit.ro/blog/golang-paths-of-mitflit/" />
<meta property="article:published_time" content="2020-11-26T17:45:42+02:00" />
<meta property="article:modified_time" content="2020-11-26T17:45:42+02:00" />
<meta itemprop="name" content="Golang Paths of Mitflit">
<meta itemprop="description" content="Where I change the default paths in golang to a centralized location on disk.">
<meta itemprop="datePublished" content="2020-11-26T17:45:42+02:00" />
<meta itemprop="dateModified" content="2020-11-26T17:45:42+02:00" />
<meta itemprop="wordCount" content="540">



<meta itemprop="keywords" content="golang,shellvars,envvars,paths,GOBIN,GOCACHE,GOENV,GOPATH,GOROOT,modules,debian,windows," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:image" content="https://mitflit.ro//img/avatar.png"/>
<meta name="twitter:title" content="Golang Paths of Mitflit"/>
<meta name="twitter:description" content="Where I change the default paths in golang to a centralized location on disk."/>

  <!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
  <![endif]-->

  <!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
  <![endif]-->

  
  
</head>

  <body>
    
  <h1>Golang Paths of Mitflit</h1>
  <header>
  
  <div class="avatar">
    <a href="https://mitflit.ro/"><img class="avatarMask" src="https://mitflit.ro//img/avatar.png" alt=""></a>
  </div>
  
  <h2><a class="author" href="https://mitflit.ro/">Dumitru Ungureanu</a></h2>
</header>

  
  
  
  <p class="date">November 26, 2020</p>
  
  
  
  <div id="tags">
    <ul>
      
        
        
          <li><a href="https://mitflit.ro/tags/golang/">golang</a></li>
        
      
        
        
          <li><a href="https://mitflit.ro/tags/shellvars/">shellvars</a></li>
        
      
        
        
          <li><a href="https://mitflit.ro/tags/envvars/">envvars</a></li>
        
      
        
        
          <li><a href="https://mitflit.ro/tags/paths/">paths</a></li>
        
      
        
        
          <li><a href="https://mitflit.ro/tags/gobin/">GOBIN</a></li>
        
      
        
        
          <li><a href="https://mitflit.ro/tags/gocache/">GOCACHE</a></li>
        
      
        
        
          <li><a href="https://mitflit.ro/tags/goenv/">GOENV</a></li>
        
      
        
        
          <li><a href="https://mitflit.ro/tags/gopath/">GOPATH</a></li>
        
      
        
        
          <li><a href="https://mitflit.ro/tags/goroot/">GOROOT</a></li>
        
      
        
        
          <li><a href="https://mitflit.ro/tags/modules/">modules</a></li>
        
      
        
        
          <li><a href="https://mitflit.ro/tags/debian/">debian</a></li>
        
      
        
        
          <li><a href="https://mitflit.ro/tags/windows/">windows</a></li>
        
      
    </ul>
  </div>
  
  
  <div id="contentBody">
    <p>Where I change the default paths in golang to a centralized location on disk.</p>
<h2 id="golang-paths-of-default">Golang paths of default</h2>
<p>Use an installer. Take note of the installation path, it becomes <code>GOROOT</code>. Installer will also add <code>GOROOT/bin</code> to the path.</p>
<p>Don&rsquo;t use an installer. Extract to a directory of my choice. Set <code>GOROOT</code> manually. Add <code>GOROOT/bin</code> to path manually.</p>
<p>Run <code>go env</code>. Observe default path settings.</p>
<p>The default <code>GOPATH</code> is <code>go</code> on the user home directory. I am not to use the default <code>GOPATH</code> for <code>GOROOT</code>. I should add <code>GOPATH/bin</code> to path manually if <code>GOBIN</code> is not set.</p>
<p>The default <code>GOBIN</code> is <code>GOPATH/bin</code>. If <code>GOBIN</code> is set, then I should add that to path manually.</p>
<p>The default <code>GOCAHE</code> is in a <code>build</code> directory somewhere in the user home directory.</p>
<p>The default <code>GOENV</code> file <code>env</code> is stored somewhere else in the user home directory.</p>
<h2 id="golang-paths-of-mitflit">Golang paths of mitflit</h2>
<p>Paths in symmetry with the environmental variables: <code>GOROOT</code> is <code>go/root</code>, <code>GOPATH</code> is <code>go/path</code>, <code>GOBIN</code> is <code>go/bin</code>. <code>GOCACHE</code> is <code>go/cache</code>, <code>GOENV</code> is <code>go/env</code>. Bonus points: modules in <code>go/modules</code>.</p>
<pre><code>├─ go
│  ├─ bin       (GOBIN, where install command deploys binaries)
│  ├─ cache     (GOCACHE, where cached builds await reuse)
│  ├─ modules
│  ├─ path      (GOPATH, first workspace, where downloaded packages are)
│  └─ root      (GOROOT, golang installation goes here)
│     env       (GOENV, the golang config file)
</code></pre><h3 id="prerequisites">Prerequisites</h3>
<p>Downloaded golang binary release archive, <code>tar.gz</code> for Debian or <code>zip</code> for Windows, is found in the <code>Downloads</code> directory in the user home directory.</p>
<p>Previous golang installation or usage has been purged: target <code>go</code> directory has no tree structure pertaining to a default <code>GOROOT</code> or <code>GOPATH</code>.</p>
<h3 id="debian">Debian</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#75715e"># Check if golang shellvars or envvars are already set.</span>
set | grep GO
printenv | grep GO

<span style="color:#75715e"># Create golang folders.</span>
mkdir ~/go
mkdir ~/go/bin
mkdir ~/go/cache
mkdir ~/go/modules
mkdir ~/go/path

<span style="color:#75715e"># Delete the old golang version.</span>
rmdir ~/go/root

<span style="color:#75715e"># Extract the new version.</span>
tar -C ~/go -xzf ~/Downloads/go*.tar.gz

<span style="color:#75715e"># Rename the extracted top folder.</span>
mv -T ~/go/go ~/go/root

<span style="color:#75715e"># Temporarly set the shellvars, for the current process.</span>
GOENV<span style="color:#f92672">=</span>~/go/env
PATH<span style="color:#f92672">=</span>$PATH:$GOROOT/bin:$GOBIN

<span style="color:#75715e"># Temporarly set the envvars, for the current process.</span>
export GOENV
export PATH

<span style="color:#75715e"># Set the envvars for future sessions.</span>
echo <span style="color:#e6db74">&#34;export GOENV=</span>$GOENV<span style="color:#e6db74">&#34;</span> &gt;&gt;~/.profile
echo <span style="color:#e6db74">&#34;export PATH=</span>$PATH<span style="color:#e6db74">&#34;</span> &gt;&gt;~/.profile

<span style="color:#75715e"># Set the rest of the envvars in the env file.</span>
go env -w GOBIN<span style="color:#f92672">=</span>~/go/bin
go env -w GOCACHE<span style="color:#f92672">=</span>~/go/cache
go env -w GOPATH<span style="color:#f92672">=</span>~/go/path
go env -w GOROOT<span style="color:#f92672">=</span>~/go/root
</code></pre></div><h3 id="windows">Windows</h3>
<p>As far as I know, it&rsquo;s not possible to append only to the User Paths in a simple manner, using the command line. The next best thing is to simply use the <code>Control Panel/System</code> GUI to add <code>%GOROOT%\bin</code> and <code>%GOBIN%</code> to User Paths.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-batchfile" data-lang="batchfile"><span style="color:#75715e">REM Create golang folders.</span>
<span style="color:#66d9ef">mkdir</span> c:\go
<span style="color:#66d9ef">mkdir</span> c:\go\bin
<span style="color:#66d9ef">mkdir</span> c:\go\cache
<span style="color:#66d9ef">mkdir</span> c:\go\modules
<span style="color:#66d9ef">mkdir</span> c:\go\path

<span style="color:#75715e">REM Delete the old golang version.</span>
<span style="color:#66d9ef">rmdir</span> c:\go\root

<span style="color:#75715e">REM Extract the new version.</span>
<span style="color:#e6db74">&#34;</span>%ProgramFiles%<span style="color:#e6db74">\7-zip\7z.exe&#34;</span> x -oc:\go <span style="color:#e6db74">&#34;</span>%USERPROFILE%<span style="color:#e6db74">\Downloads\go*.zip&#34;</span>

<span style="color:#75715e">REM Rename the extracted top folder.</span>
<span style="color:#66d9ef">ren</span> c:\go\go root

<span style="color:#75715e">REM Temporarly set the envvars for the current session.</span>
<span style="color:#66d9ef">set</span> GOENV=c:\go\env

<span style="color:#75715e">REM Set the envvars for future sessions.</span>
setx GOENV $GOENV

<span style="color:#75715e">REM Set the rest of the envvars in the env file.</span>
%GOROOT%\bin\go env -w GOBIN=c:\go\bin
%GOROOT%\bin\go env -w GOCACHE=c:\go\cache
%GOROOT%\bin\go env -w GOPATH=c:\go\path
%GOROOT%\bin\go env -w GOROOT=c:\go\root
</code></pre></div><h2 id="reading-list">Reading list</h2>
<p><a href="https://www.digitalocean.com/community/tutorials/how-to-read-and-set-environmental-and-shell-variables-on-linux">How To Read and Set Environmental and Shell Variable on Linux | DigitalOcean</a></p>
  </div>
  <footer>
  <p>
  &copy; 2020 Dumitru Ungureanu.
  Powered by <a href="https://gohugo.io/">Hugo</a>
  using the <a href="https://github.com/koirand/pulp/">pulp</a> theme.
  Hosted on <a href="https://www.netlify.com/">Netlify</a>.
  </p>

</footer>


  </body>
</html>
